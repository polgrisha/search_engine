{"ast":null,"code":"import _regeneratorRuntime from\"/Users/gregorypolyakov/MIPT_Search_engine/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/gregorypolyakov/MIPT_Search_engine/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/gregorypolyakov/MIPT_Search_engine/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),results=_useState4[0],setResults=_useState4[1];var handleSearch=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var url,res,json_res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(search==='')){_context.next=3;break;}return _context.abrupt(\"return\");case 3:console.log(search);url=\"/search?q=\".concat(search);_context.next=7;return fetch(url);case 7:res=_context.sent;_context.next=10;return res.json();case 10:json_res=_context.sent;console.log(json_res);setResults(json_res.hits.hits);console.log(results);case 14:case\"end\":return _context.stop();}}},_callee);}));return function handleSearch(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"My search engine\"}),/*#__PURE__*/_jsx(\"form\",{className:\"search-input\",onSubmit:handleSearch,children:/*#__PURE__*/_jsx(\"input\",{type:\"search\",placeholder:\"Type search query\",value:search,onChange:function onChange(e){return setSearch(e.target.value);}})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"search-results\",children:results.map(function(result,i){return/*#__PURE__*/_jsxs(\"div\",{className:\"single-result\",children:[/*#__PURE__*/_jsx(\"h3\",{children:result._source.title}),/*#__PURE__*/_jsx(\"p\",{children:\"Your search results\"})]});})})]});}export default App;","map":{"version":3,"names":["useState","useEffect","App","search","setSearch","results","setResults","handleSearch","e","preventDefault","console","log","url","fetch","res","json","json_res","hits","target","value","map","result","i","_source","title"],"sources":["/Users/gregorypolyakov/MIPT_Search_engine/frontend/src/App.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\n\nfunction App() {\n    const [search, setSearch] = useState(\"\")\n    const [results, setResults] = useState([])\n\n    const handleSearch = async e => {\n        e.preventDefault();\n        if (search === '') return\n\n        console.log(search)\n    \n        const url = `/search?q=${search}`\n        const res = await fetch(url)\n        const json_res = await res.json()\n\n        console.log(json_res)\n        setResults(json_res.hits.hits)\n\n        console.log(results)\n    }\n\n    return (\n    <div className=\"App\">\n    <header>\n      <h1>My search engine</h1>\n      <form className=\"search-input\" onSubmit={handleSearch}>\n        <input \n            type=\"search\" \n            placeholder=\"Type search query\"\n            value={search}\n            onChange= {e => setSearch(e.target.value)}/>\n      </form>\n    </header>\n    <div className=\"search-results\">\n        {(results).map((result, i) => {\n            return (\n                <div className=\"single-result\">\n                    <h3>{result._source.title}</h3>\n                    <p>\n                        Your search results\n                    </p>\n                </div>\n            )\n        })}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"waAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,wFAE5C,QAASC,IAAG,EAAG,CACX,cAA4BF,QAAQ,CAAC,EAAE,CAAC,wCAAjCG,MAAM,eAAEC,SAAS,eACxB,eAA8BJ,QAAQ,CAAC,EAAE,CAAC,yCAAnCK,OAAO,eAAEC,UAAU,eAE1B,GAAMC,aAAY,4FAAG,iBAAMC,CAAC,yIACxBA,CAAC,CAACC,cAAc,EAAE,CAAC,KACfN,MAAM,GAAK,EAAE,kEAEjBO,OAAO,CAACC,GAAG,CAACR,MAAM,CAAC,CAEbS,GAAG,qBAAgBT,MAAM,wBACbU,MAAK,CAACD,GAAG,CAAC,QAAtBE,GAAG,sCACcA,IAAG,CAACC,IAAI,EAAE,SAA3BC,QAAQ,eAEdN,OAAO,CAACC,GAAG,CAACK,QAAQ,CAAC,CACrBV,UAAU,CAACU,QAAQ,CAACC,IAAI,CAACA,IAAI,CAAC,CAE9BP,OAAO,CAACC,GAAG,CAACN,OAAO,CAAC,wDACvB,kBAdKE,aAAY,4CAcjB,CAED,mBACA,aAAK,SAAS,CAAC,KAAK,wBACpB,uCACE,wCAAyB,cACzB,aAAM,SAAS,CAAC,cAAc,CAAC,QAAQ,CAAEA,YAAa,uBACpD,cACI,IAAI,CAAC,QAAQ,CACb,WAAW,CAAC,mBAAmB,CAC/B,KAAK,CAAEJ,MAAO,CACd,QAAQ,CAAG,kBAAAK,CAAC,QAAIJ,UAAS,CAACI,CAAC,CAACU,MAAM,CAACC,KAAK,CAAC,EAAC,EAAE,EAC3C,GACA,cACT,YAAK,SAAS,CAAC,gBAAgB,UACzBd,OAAO,CAAEe,GAAG,CAAC,SAACC,MAAM,CAAEC,CAAC,CAAK,CAC1B,mBACI,aAAK,SAAS,CAAC,eAAe,wBAC1B,oBAAKD,MAAM,CAACE,OAAO,CAACC,KAAK,EAAM,cAC/B,0CAEI,GACF,CAEd,CAAC,CAAC,EACE,GACF,CAEV,CAEA,cAAetB,IAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}